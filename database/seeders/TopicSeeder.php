<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Carbon\Carbon;
use App\Models\Category;
use App\Models\Reply;
use App\Models\Like;
use App\Models\User;
use Illuminate\Support\Str;
use App\Models\Topic;



class TopicSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run()
    {
        $topics = [
            [
                'title' => 'Цусны даралт өндөр байгаа үед юу хийх вэ?',
                'content' => 'Сайн байцгаана уу. Миний цусны даралт сүүлийн үед байнга өндөр гардаг болсон. 150/90 гэх мэт. Эмч рүү очих гэж байгаа ч яаралтай тусламж хэрэгтэй мэт санагдаад асууж байна. Гэртээ даралтаа бууруулах ямар аргууд байдаг вэ? Ямар хоол ундаа хэрэглэх нь зүйтэй вэ?',
                'category' => 'Зүрх судасны систем',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Хоолны дараа ходоод өвддөг шалтгаан',
                'content' => 'Сайн байна уу? Надад сүүлийн хэдэн долоо хоногийн турш хоолны дараа ходоод өвдөх шинж тэмдэг гарч байна. Ялангуяа өөхтэй, хүнд хоол идсний дараа илүү хүндэрдэг. Энэ нь ямар шалтгаантай байж болох вэ? Эмчид үзүүлэхээс өмнө ямар нэг зүйл туршиж болох уу?',
                'category' => 'Хоол боловсруулах систем',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Чихрийн шижинтэй хүн ямар жимс идэж болох вэ?',
                'content' => 'Миний ээж саяхан чихрийн шижин 2-р хэлбэр гэж оношлогдсон. Түүнд ямар төрлийн жимс, хүнсний ногоо идэхийг зөвлөж болох вэ? Саяхан мэдсэн учраас бид бүхэн хоолны дэглэмээ тохируулж байна.',
                'category' => 'Дотоод шүүрлийн систем',
                'is_pinned' => true,
                'is_locked' => false,
            ],
            [
                'title' => 'Дасгал хийхэд уух усны хэмжээ',
                'content' => 'Сайн уу? Би саяхан гүйлтийн дасгал хийж эхэлсэн. Өдөрт ойролцоогоор 5-6 км гүйдэг. Дасгалын өмнө, дасгалын үеэр болон дасгалын дараа хэр хэмжээний ус уух ёстой вэ? Их хэмжээний ус ууж байгаа ч, дасгалын дараа их ядардаг.',
                'category' => 'Дасгал хөдөлгөөн',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'D витамин дутагдал',
                'content' => 'Сайн байна уу? Би саяхан шинжилгээ өгөөд D витамин дутагдалтай гэж гарсан. Эмч надад D витаминий нэмэлт бүтээгдэхүүн уухыг зөвлөсөн ч, би байгалийн аргаар D витамин авах боломжтой эсэхийг мэдэхийг хүсэж байна. Ямар хүнс D витаминаар баялаг вэ? Мөн нарны гэрэл хэр их шаардлагатай вэ?',
                'category' => 'Эрүүл хооллолт',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Стрессийг бууруулах аргууд',
                'content' => 'Сайн байцгаана уу? Би сүүлийн үед их стресстэй байгаа. Ажил, гэр бүлийн асуудлууд их байна. Стрессийг бууруулах ямар үр дүнтэй аргууд байдаг вэ? Йога, медитаци туршиж үзсэн ч тийм ч үр дүнтэй санагдсангүй. Бусад ямар нэг арга байна уу?',
                'category' => 'Стресс, сэтгэцийн эрүүл мэнд',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Цэвэршилтийн үеийн шинж тэмдгүүд',
                'content' => 'Би 48 настай эмэгтэй. Сүүлийн үед сарын тэмдэг тогтмол бус болж, халуу оргих, шөнө хөлрөх шинж тэмдгүүд илэрч байна. Энэ нь цэвэршилтийн үеийн шинж тэмдэг байж болох уу? Цэвэршилтийн үед гарах бусад шинж тэмдгүүдийн талаар мэдээлэл өгнө үү. Мөн эдгээр шинж тэмдгүүдийг хэрхэн зөв удирдах вэ?',
                'category' => 'Эмэгтэйчүүдийн эрүүл мэнд',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Үрчлээ арилгах байгалийн аргууд',
                'content' => 'Сайн байна уу? Би 35 настай бөгөөд нүүрний арьсан дээр жижиг үрчлээнүүд гарч эхэлсэн. Мэдээж өндөр үнэтэй гоо сайхны бүтээгдэхүүн байдаг ч, гэрийн нөхцөлд хийж болох байгалийн аргуудыг мэдмээр байна. Ямар нэг зүйл санал болгож чадах уу?',
                'category' => 'Арьс',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Простатит өвчний шинж тэмдэг',
                'content' => 'Сайн байна уу? Би 50 настай эрэгтэй. Сүүлийн үед шөнө шээх давтамж ихэссэн, заримдаа шээхэд өвддөг. Энэ нь простатит өвчний шинж тэмдэг байж болох уу? Ямар нэмэлт шинж тэмдгүүдийг анхаарах хэрэгтэй вэ? Эмчид үзүүлэхээс өмнө урьдчилан сэргийлэх ямар нэг арга байна уу?',
                'category' => 'Эрэгтэйчүүдийн эрүүл мэнд',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Хүүхдийн гэдэсний хямралын талаар',
                'content' => 'Миний 2 настай хүү сүүлийн хоёр өдөр суулгаж байна. Халуун байхгүй, бусад шинж тэмдэг ч байхгүй. Гэхдээ тэр их уйлж, тавгүйтэж байна. Яаралтай эмчид үзүүлэх шаардлагатай юу? Гэрийн нөхцөлд хийж болох ямар нэг зүйл байна уу?',
                'category' => 'Эх, хүүхдийн эрүүл мэнд',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Ханиад томуу намжаах байгалийн аргууд',
                'content' => 'Би саяхан ханиад хүрч, хамар битүүрч, ханиалгаж эхэлсэн. Эм уухаас өмнө байгалийн аргуудаар намжаахыг хүсч байна. Та бүхэн ямар аргуудыг санал болгох вэ? Халуун ус, зөгийн бал, цагаан сармистай хоол их иддэг ч илүү үр дүнтэй зүйл мэдэхийг хүсэж байна.',
                'category' => 'Амьсгалын систем',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Цусан дахь холестеролын хэмжээ',
                'content' => 'Сайн байна уу? Миний цусан дахь холестеролын хэмжээ өндөр гэж гарсан. LDL 160 мг/дл гэсэн. Эмч надад эм бичиж өгсөн ч, би эхлээд хоолны дэглэмээр зохицуулахыг хүсэж байна. Холестеролоо бууруулахын тулд ямар хүнсийг хэрэглэх хэрэгтэй вэ? Ямар хүнснээс зайлсхийх хэрэгтэй вэ?',
                'category' => 'Зүрх судасны систем',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Мигрень толгойн өвчин',
                'content' => 'Би сүүлийн хэдэн жил мигрень толгойн өвчнөөр шаналж байна. Голчлон стресстэй үед илэрдэг. Мигрень толгойн өвчин хүрэхэд юу хийх хэрэгтэй вэ? Урьдчилан сэргийлэх ямар нэг арга байна уу? Эм уудаг ч байнга ууж болохгүй гэж эмч хэлсэн.',
                'category' => 'Мэдрэлийн систем',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Витамин, эрдэс бодисын нэмэлт бүтээгдэхүүн',
                'content' => 'Сайн байна уу? Би сүүлийн үед их ядарч, сульдаж байгаа. Витамин, эрдэс бодисын нэмэлт бүтээгдэхүүн хэрэглэх нь тустай юу? Ямар нэмэлт бүтээгдэхүүнийг санал болгох вэ? Мөн чанартай бүтээгдэхүүнийг хэрхэн таньж мэдэх вэ?',
                'category' => 'Эмийн зөв хэрэглээ',
                'is_pinned' => false,
                'is_locked' => false,
            ],
            [
                'title' => 'Цагаан будааны оронд юу хэрэглэж болох вэ?',
                'content' => 'Сайн байна уу? Би жингээ хасахыг хүсэж байгаа бөгөөд цагаан будаа их идэхийг зогсоохыг хүсэж байна. Цагаан будааны оронд ямар эрүүл хүнс хэрэглэж болох вэ? Боломжтой бол монголд олддог бүтээгдэхүүнүүдийг санал болгоно уу.',
                'category' => 'Эрүүл хооллолт',
                'is_pinned' => false,
                'is_locked' => false,
            ],
        ];

        $users = User::all();

        foreach ($topics as $topic) {
            $categoryId = Category::where('name', $topic['category'])->first()->id;
            $userId = $users->random()->id;

            Topic::create([
                'title' => $topic['title'],
                'slug' => Str::slug($topic['title']),
                'content' => $topic['content'],
                'user_id' => $userId,
                'category_id' => $categoryId,
                'views' => rand(0, 1000),
                'is_pinned' => $topic['is_pinned'],
                'is_locked' => $topic['is_locked'],
                'created_at' => Carbon::now()->subDays(rand(1, 30)),
            ]);
        }
    }

}
